<!DOCTYPE html>
<html>
<head>
	<title>Bitcoin-Lightning Swap Demo</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
	<h1>Bitcoin-Lightning Swap Demo</h1>

	<!-- Bitcoin Input -->
	<label for="bitcoin-input">Bitcoin:</label>
	<input type="number" id="bitcoin-input" min="0" step="0.00000001">
	<button onclick="swapToLightning()">Swap to Lightning</button>

	<!-- Lightning Input -->
	<label for="lightning-input">Lightning:</label>
	<input type="number" id="lightning-input" min="0" step="0.00000001">
	<button onclick="swapToBitcoin()">Swap to Bitcoin</button>

	<!-- Swap Status -->
	<div id="swap-status"></div>

	<script>
		function swapToLightning() {
			// Get value from Bitcoin input
			const bitcoinValue = parseFloat(document.getElementById("bitcoin-input").value);

			// Check if input is valid
			if (isNaN(bitcoinValue) || bitcoinValue <= 0) {
				alert("Invalid Bitcoin value!");
				return;
			}

			// Show swap status message
			$("#swap-status").html("Initiating swap to Lightning Network...");

			// Make API call to perform swap to Lightning
			$.ajax({
				url: "https://example.com/swap-to-lightning",
				type: "POST",
				data: {
					"btc_value": bitcoinValue
				},
				success: function(response) {
					// Update swap status message
					$("#swap-status").html(`Successfully swapped ${response.lightning_value} Lightning!`);
					
					// Update Lightning input value
					document.getElementById("lightning-input").value = response.lightning_value;
				},
				error: function() {
					// Show error message
					$("#swap-status").html("Error initiating swap to Lightning Network!");
				}
			});
		}

		function swapToBitcoin() {
			// Get value from Lightning input
			const lightningValue = parseFloat(document.getElementById("lightning-input").value);

			// Check if input is valid
			if (isNaN(lightningValue) || lightningValue <= 0) {
				alert("Invalid Lightning value!");
				return;
			}

			// Show swap status message
			$("#swap-status").html("Initiating swap to Bitcoin...");

			// Make API call to perform swap to Bitcoin
			$.ajax({
				url: "https://example.com/swap-to-bitcoin",
				type: "POST",
				data: {
					"lightning_value": lightningValue
				},
				success: function(response) {
					// Update swap status message
					$("#swap-status").html(`Successfully swapped ${response.btc_value} Bitcoin!`);
					
					// Update Bitcoin input value
					document.getElementById("bitcoin-input").value = response.btc_value;
				},
				error: function() {
					// Show error message
					$("#swap-status").html("Error initiating swap to Bitcoin!");
				}
			});
		}
	</script>
</body>
</html>
